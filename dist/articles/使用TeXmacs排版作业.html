<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="" >

<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
      <meta name="dcterms.date" content="2023-01-31" />
        <title>使用 TeXmacs 排版作业</title>
    <link rel="stylesheet" href="/resources/css/article/theme.css" />
    <link rel="stylesheet" href="/resources/css/article/code.css" />
      
  
<style>
@font-face {
  font-family: CONTENT;
  src: url('/resources/fonts/subsets/FTac2beaa1-e98c-4108-9d0c-06f035cbaad3.woff2') format('woff2'),
       url('/resources/fonts/subsets/FTac2beaa1-e98c-4108-9d0c-06f035cbaad3.ttf') format('truetype');
}
</style>


  <script src="/resources/js/article.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.11.3/viewer.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.11.3/viewer.css" />
</head>

<body>
  <progress id="content_progress" value="0"></progress>
  <button id="back-to-top">
    回页顶
  </button>

  
  <header>
    <h1 class="title">使用 TeXmacs 排版作业</h1>
    <!-- Subtitle -->
        <h3 class="subtitle">&nbsp;</h3>
      </header>

    <nav id="TOC" role="doc-toc">
    <strong>文章归类:&nbsp;<a href="/pages/category.html#杂项">杂项</a> </strong>
    <input type="checkbox" id="contents">
    <ul>
    <li><a href="#内置的模板" id="toc-内置的模板">内置的模板</a></li>
    <li><a href="#文章结构" id="toc-文章结构">文章结构</a></li>
    <li><a href="#文本格式" id="toc-文本格式">文本格式</a></li>
    <li><a href="#添加目录" id="toc-添加目录">添加目录</a></li>
    <li><a href="#参考文献的添加" id="toc-参考文献的添加">参考文献的添加</a></li>
    <li><a href="#公式编辑" id="toc-公式编辑">公式编辑</a></li>
    <li><a href="#参考" id="toc-参考">参考</a></li>
    </ul>
    <ul>
      <li><a href="#reference">参考链接</a></li>
      <li>&nbsp;</li>
      <li class="tools">
        <span id="backtomain">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house"
            viewBox="0 0 16 16">
            <path
              d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z" />
          </svg>
        </span>
        <span id="readingmode">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-book"
            viewBox="0 0 16 16">
            <path
              d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z" />
          </svg>
        </span>
        <span id="larger"> </span>
        <span id="smaller"></span>
        <span id="switchfont">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fonts"
            viewBox="0 0 16 16">
            <path
              d="M12.258 3h-8.51l-.083 2.46h.479c.26-1.544.758-1.783 2.693-1.845l.424-.013v7.827c0 .663-.144.82-1.3.923v.52h4.082v-.52c-1.162-.103-1.306-.26-1.306-.923V3.602l.431.013c1.934.062 2.434.301 2.693 1.846h.479L12.258 3z" />
          </svg>
        </span>
        <span id="backtotop">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-up"
            viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M8 10a.5.5 0 0 0 .5-.5V3.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 3.707V9.5a.5.5 0 0 0 .5.5zm-7 2.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z" />
          </svg>
        </span>
      </li>
    </ul>

  </nav>
  
  <main>
    

    <style>

    .latex sub {
      vertical-align: -0.1ex;
      margin-left: -0.1667em;
      margin-right: -0.025em;
    }

    .latex sub, .latex sup {
      font-size: 0.9em;
      text-transform:uppercase;

    }
    .latex sup {
      font-size: 0.85em;
      vertical-align: -0.2em;
      margin-left: -0.26em;
      margin-right: -0.05em;
    }

    </style>
    <p>我被 LibreOffice 折磨了五年。</p>
    <p>为了替换它，我尝试了 Markdown，但它的功能太简单了，尝试了 <span class="latex">L<sup>A</sup>T<sub>E</sub>X</span>，但是首先我没学会，其次我从来没有成功的让它显示中文字符，并且它的大小也太夸张了。最后我找到了 <a href="https://www.texmacs.org/tmweb/home/welcome.en.html">GNU TeXmacs</a>。我以前也不是没有听说过，但是受到它的名字的误导，我认为它是一个「使用 Emacs 的 TeX 编辑器」。其实它和两者的关系不大。</p>
    <p><code>openSUSE</code> 的软件源里面没有，需要<a href="https://texmacs.org/tmweb/download/linux-packages.en.html#suse">下载 rpm 包</a>安装。</p>
    <p>在使用 TeXmacs 之前免不了需要解决一些疑难杂症。都和中文有关。首先是文档语言无法选择中文的问题，你需要在首选项中将界面语言改为中文才行，同样的，如果需要选择日文就把界面语言改为日文，其他各种不能用键盘上的字母表达的语言操作类似。其次是输入中文乱码的问题，在有些系统上，默认的中文字体 <code>sys-chinese</code> 是没有的，所以会指定到 <code>TeX</code> 的默认字体，自然无法显示中文。你需要给 TeXmacs 添加字体才行。所幸官网给出了中文字体包：<a href="ftp://ftp.texmacs.org/pub/TeXmacs/fonts/TeXmacs-chinese-fonts.tar.gz">fireflysung</a>。你需要把它解压到 <code>~/.TeXmacs/fonts</code> 里面。最后目录结构应该是这样的:</p>
    <div class="sourceCode" id="cb1"><pre class="sourceCode erlang"><code class="sourceCode erlang"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ch">fonts</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>├── <span class="ch">enc</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>├── <span class="ch">error</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>├── <span class="ch">font</span><span class="op">-</span><span class="ch">characteristics</span><span class="fu">.</span><span class="ch">scm</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>├── <span class="ch">font</span><span class="op">-</span><span class="ch">database</span><span class="fu">.</span><span class="ch">scm</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>├── <span class="ch">font</span><span class="op">-</span><span class="ch">features</span><span class="fu">.</span><span class="ch">scm</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>├── <span class="ch">pk</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>├── <span class="ch">tfm</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>├── <span class="ch">truetype</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>│   ├── <span class="va">FandolBraille</span><span class="op">-</span><span class="va">Display</span><span class="fu">.</span><span class="ch">otf</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>│   ├── <span class="va">FandolBraille</span><span class="op">-</span><span class="va">Regular</span><span class="fu">.</span><span class="ch">otf</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>│   ├── <span class="va">FandolFang</span><span class="op">-</span><span class="va">Regular</span><span class="fu">.</span><span class="ch">otf</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>│   ├── <span class="va">FandolHei</span><span class="op">-</span><span class="va">Bold</span><span class="fu">.</span><span class="ch">otf</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>│   ├── <span class="va">FandolHei</span><span class="op">-</span><span class="va">Regular</span><span class="fu">.</span><span class="ch">otf</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>│   ├── <span class="va">FandolKai</span><span class="op">-</span><span class="va">Regular</span><span class="fu">.</span><span class="ch">otf</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>│   ├── <span class="va">FandolSong</span><span class="op">-</span><span class="va">Bold</span><span class="fu">.</span><span class="ch">otf</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>│   ├── <span class="va">FandolSong</span><span class="op">-</span><span class="va">Regular</span><span class="fu">.</span><span class="ch">otf</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>│   └── <span class="ch">fireflysung</span><span class="fu">.</span><span class="ch">ttf</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>├── <span class="ch">type1</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>├── <span class="ch">unpacked</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>└── <span class="ch">virtual</span></span></code></pre></div>
    <p>不要忘记添加以后运行 <code>texmacs --delete-font-cache</code> 清除缓存，然后就可以使用了。另外建议把宋体楷体什么的也安排上，直接用 <a href="https://www.ctan.org/tex-archive/fonts/fandol/"><code>CTAN</code></a> 的包就行。</p>
    <p>除此以外，在保存时也会遇到问题，焦点会强制集中在一个什么都没有的窗口上，不过不影响后面文件选择窗口的操作，记得<strong>输入文件名</strong>。它保存的是纯文本文件，内容格式类似于 <code>XML</code>。</p>
    <p><img src="./assets/wrong.webp" /></p>
    <p>下面记录一些常见的操作。</p>
    <h2 id="内置的模板">内置的模板</h2>
    <p>使用 <code>文档 -&gt; 样式</code> 来选取预定的样式，直接选择 <code>article</code> 即可。它包含了标题，作者，摘要之类的东西。可以自己改进，但是它的模板似乎是用类似 scheme 的 dsl 写的…</p>
    <h2 id="文章结构">文章结构</h2>
    <p>标准的文章结构是标题，摘要，正文等等。<strong>关键词是放在摘要里面的</strong>，所以在摘要环境的菜单里面选中。</p>
    <p><img src="./assets/keywords.webp" /></p>
    <h2 id="文本格式">文本格式</h2>
    <p>和 <code>Word</code> 之类的软件类似，菜单上的选项是不言而喻的。不过如果不想离开键盘，还可以使用 <code>tex</code> 命令。 <code>tex</code> 命令都以 <code>\</code> 开头，输入以后可以自动补全。诸如 <code>strong</code> ，<code>code</code>，<code>abbr</code> 之类的文本格式可以直接输入。步骤是输入 <code>\</code> 再在蓝色尖括号中输入指令，按下回车就行。输入完毕以后移动到块以外。常见的格式如下：</p>
    <p><img src="./assets/formats.webp" /></p>
    <p>然后是给文章添加节，同样是使用 <code>TEX</code> 命令。用 <code>\section</code> 添加节，<code>\subsection</code> 添加子节，还有 <code>\subsubsection</code> 之类。添加以后会自动更新，所以不用担心序号错乱问题。</p>
    <h2 id="添加目录">添加目录</h2>
    <p>在想要添加目录的地方，使用 <code>\table-of-contents</code> 命令，接下来按回车，再在 <code>|</code> 后面输入 <code>toc</code> 即可。命令看上去是这样的：<code>&lt;\table-of-contents|toc&gt;</code>。接下来回车就行。但是目录不会自己更新。需要在 <code>文档 -&gt; 更新 -&gt; 目录</code> 中手动更新一下。</p>
    <h2 id="参考文献的添加">参考文献的添加</h2>
    <p>首先需要一个 <code>BibTeX</code> 文件。它算是一个引用数据库，在主文档里面引用它里面的内容即可。比如说有一个 <code>BibTeX</code> 文件是这样：</p>
    <div class="sourceCode" id="cb2"><pre class="sourceCode bibtex"><code class="sourceCode bibtex"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="va">@misc</span>{<span class="ot">hello</span>,</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>        <span class="dt">author</span> = &quot;<span class="st">Nobody Jr</span>&quot;,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">title</span> = &quot;<span class="st">My Article</span>&quot;,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">year</span> = &quot;<span class="st">2006</span>&quot; </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="va">@book</span>{<span class="ot">pci</span>,  </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">title</span> = &quot;<span class="st">某本书籍</span>&quot;,  </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">author</span> = &quot;<span class="st">某个作者</span>&quot;,  </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">year</span> = &quot;<span class="st">2007</span>&quot;,  </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
    <p>然后在 <code>插入自动生生成的内容 -&gt; 参考文献</code> 中选择这个文件。注意：<strong>bibtex 文件必须在同一个目录！</strong>。接下来在需要引用的地方使用 <code>&lt;\cite|name&gt;</code> ，然后刷新<strong>两次</strong>即可。</p>
    <p>注意事项：</p>
    <ol type="1">
    <li>Bibtex 文件的后缀名必须是 <code>.bib</code></li>
    <li>引用标签不能是中文，否则乱码</li>
    </ol>
    <p><img src="./assets/bib.webp" /></p>
    <p>不管是添加表格也好，添加其他内容也罢，当焦点在对应的元素环境里面时，第三列工具栏就会显示为当前环境的相关工具。比如表格就会显示添加行列的按钮等。</p>
    <p>我的应用场景是对排版元素要求不高的电子版作业，考虑到我的专业，基本没有公式和复杂表格的需求，所以用起来还是绰绰有余的。但是毕竟公式编辑是它最激动人心的功能,所以还是看一眼。</p>
    <h2 id="公式编辑">公式编辑</h2>
    <p>直接键入 <code>shift + 4</code> 进入数学模式，然后就可以编辑了。</p>
    <p><img src="./assets/math_.webp" /></p>
    <p>好吧，总的来说我应该是用不上的。</p>
    <h2 id="参考">参考</h2>
    <ul>
    <li><a href="https://texmacs.org/tmweb/documents/manuals/texmacs-manual.en.pdf">TeXmacs 文档(英文)</a></li>
    <li><a href="https://x-wei.github.io/TeXmacs_intro.html">学术文章写作利器: TeXmacs介绍</a></li>
    <li><a href="https://github.com/texmacs/plugins">TeXmacs Plugs</a></li>
    </ul>

    <br />
    <!--%%REF%%-->


    <br />
    <script src="https://giscus.app/client.js" data-repo="izfsk-ium/izfsk-ium.github.io" data-repo-id="R_kgDOJ7Ymyw"
      data-category="Announcements" data-category-id="DIC_kwDOJ7Ymy84CX4eg" data-mapping="title" data-strict="0"
      data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme"
      data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async>
      </script>
  </main>



  <footer>
    <p class="signoff">
    <div class="metadata">
            <p class="date"><time datetime="2023-01-31">创建日期：2023-01-31</time></p>
            <p class="lastmodify"><time>最后编译：2023-07-22</time></p>
    </div>
    </p>
  </footer>

  
  <style>
    #back-to-top {
      position: fixed;
      bottom: 25px;
      right: 20px;
      display: none;
      border-radius: 0;
      padding: 3px;
      background: var(--background-color);
      border-color: gray;
      z-index: 999;
      color: var(--color-text);
    }
  </style>
  <script>
    window.addEventListener('scroll', function () {
      var button = document.getElementById('back-to-top');
      if (window.pageYOffset > 125) {
        button.style.display = 'block';
      } else {
        button.style.display = 'none';
      }
    });

    document.getElementById('back-to-top').addEventListener('click', function () {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>
  <script async src="https://analytics.umami.is/script.js" data-website-id="2a1146ab-fa82-4a84-a04f-30e5967357c3"></script>
</body>

</html>